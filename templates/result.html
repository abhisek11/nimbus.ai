{% extends 'base.html' %}
{% block header %}
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load('current', {'packages':['corechart']});
        google.charts.setOnLoadCallback(drawChart);
        function drawChart() {
            var data = google.visualization.arrayToDataTable({{ data|safe }} );
            var options = {
                legend: {position: 'bottom', alignment: 'center', maxLines: 3},
                slices: {
                    0: { color: '#4CAF50', },
                    1: { color: '#2196F3' },
                    2: { color: '#F44336' }
                }
            };
            var chart = new google.visualization.PieChart(document.getElementById('piechart'));
            chart.draw(data, options);
        }
        $(window).resize(function(){        //to make chart Responsive
            drawChart();
        });
    </script>
{% endblock %}

{% block body %}
    <div class="row">
        
        <div class="col s4 m4 l4" >
            <div id="piechart" style="width: 463px !important;min-height: 450px;float: left !important;"></div>
        </div>

        <div class="col s8 m12 l8 table-box" style="display:none" >
            <table style="width:50%" >
                <tr>
                    <th><strong>Post</strong></th>
                    <th><strong>screen_name</strong></th>
                    <th><strong>created_at</strong></th>
                    <th><strong>user_location</strong></th>
                    <th><strong>user_id</strong></th>
                    
                </tr>
                {% for data in data_positive %}
                    <tr>
                        {% for value in data %}
                            <td>{{value}}</td>
                        {% endfor %}
                    </tr>
                {% endfor %}
                
            </table>
        </div>
        <!-- <div class="col s8 m12 l8 table-box" style="display:none" >
                <table style="width:50%" >
                    <tr>
                        <th><strong>Post</strong></th>
                        <th><strong>screen_name</strong></th>
                        <th><strong>created_at</strong></th>
                        <th><strong>user_location</strong></th>
                        <th><strong>user_id</strong></th>
                        
                    </tr>
                    {% for data in data_positive %}
                        <tr>
                            {% for value in data %}
                                <td>{{value}}</td>
                            {% endfor %}
                        </tr>
                    {% endfor %}
                    
                </table>
            </div> -->
        <div class="col s12 m12 l12" >
                <button type="button" class="btn btn-success" id="positive-result" onclick="display_data()">Positive</button>
                <button type="button" class="btn btn-danger" id="negative-result">Negative</button>
                <button type="button" class="btn btn-info" id="neutral-result">Neutral</button>
        </div>
    </div>
    <script>
        function display_data(){
            $('.table-pos').show();
        }
    </script>
{% endblock %}